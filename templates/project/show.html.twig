{% extends 'base.html.twig' %}

{% block title %}Project Details
{% endblock %}

{% block body %}
	{{ parent() }}

	<div class="content">
		<h1 class="project-title">Project Details</h1>
		<p>
			<strong class="label">Project Name:</strong>
			<span class="project-name">{{ project.projectName }}</span>
		</p>

		<div class='combine-buttons'>
			<form method="delete" action="{{ path('delete_project', {'id': project.id}) }}" class="delete-form" onsubmit="return confirm('Are you sure you want to delete this project?');">
				<input type="hidden" name="_method" value="DELETE">
				<button type="submit" class="show-project-button btn-danger">Delete Project</button>
			</form>

			<form method="get" action="{{ path('update_project', {'id': project.id}) }}" class="update-form">
				<button type="submit" class="show-project-button btn-primary">Update Project</button>
			</form>
		</div>


		<h2 class="task-heading">Tasks:</h2>
		<ul class="task-list">
			{% for task in project.tasks %}
				<li class="task-item">
					<span class="task-name">{{ task.taskName }}</span>
					<span class="task-due-date">
						- Due Date:
						{{ task.dueDate|date('Y-m-d') }}</span>
					<div class='combine-buttons'>
						<form method="delete" action="{{ path('delete_task', {'id': task.id}) }}" class="delete-task-form" onsubmit="return confirm('Are you sure you want to delete this task?');">
							<input type="hidden" name="_method" value="DELETE">
							<button type="submit" class="show-project-button btn-danger">Delete Task</button>
						</form>

						<form method="get" action="{{ path('update_task', {'id': task.id}) }}" class="update-task-form">
							<button type="submit" class="show-project-button btn-primary">Update Task</button>
						</form>
						<div></li>
					{% endfor %}
				</li>
			</ul>
		</div>
	{% endblock %}
